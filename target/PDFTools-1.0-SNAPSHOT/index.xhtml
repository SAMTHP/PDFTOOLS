<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>PDF TOOLS</title>
        <h:outputStylesheet library="style" name="guess.css" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" ></link>
        <script src="https://code.jquery.com/jquery-3.1.0.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <meta name="viewport" content="width=device-width, user-scalable=no"></meta>
    </h:head>
    <h:body>
        <!--Navbar-->
        <div class="shadow bg-info">
            <h1 class="text-center text-white font-weight-bold">PDFtools</h1>
        </div>
        <!--/.Navbar-->
        <c:if test="#{pdfBean.alert}">
            <div class="alert alert-success">
                <h:outputText value="#{pdfBean.alertMessageSuccessCreation}" escape="false" />
            </div>
        </c:if>
        <c:if test="#{pdfBean.alertSup}">
            <div class="alert alert-success">
                <h:outputText value="#{pdfBean.alertMessageSuccessPageRemoving}" escape="false" />
            </div>
        </c:if>
        <c:if test="#{pdfBean.alertConverImg}">
            <div class="alert alert-success">
                <h:outputText value="#{pdfBean.alertMessageSuccessConvertImg}" escape="false" />
            </div>
        </c:if>
        <div class="container">
            <div class="jumbotron shadow">
                <h1 class="display-4">Gestion des PDF</h1>
                <p class="lead">Application développée dans le cadre d'un projet en équipe</p>
                <hr class="my-4"/>
                <div class="list-group shadow">
                    <button type="button" class="list-group-item list-group-item-action active">
                      TEAM
                    </button>
                    <a type="button" href="https://github.com/RomainJG" class="list-group-item list-group-item-action">Romain</a>
                    <a type="button" href="https://github.com/aymanfattah" class="list-group-item list-group-item-action">Ayman</a>
                    <a type="button" href="https://github.com/SAMTHP" class="list-group-item list-group-item-action">Samir</a>
                </div>
                <div class="row d-flex justify-content-around">
                    <a class="btn btn-info btn-lg mt-2 shadow col-xs-12 col-md-3" href="#tools" role="button">Outils</a>
                    <a class="btn btn-dark btn-lg mt-2 shadow col-xs-12 col-md-3" href="#toCome" role="button">A venir</a>
                    <a class="btn btn-success btn-lg mt-2 shadow col-xs-12 col-md-3" href="https://github.com/SAMTHP/PDFTOOLS" role="button">Lien GitHub</a>
                </div>
                
            </div>
            <h1 class="text-center text-muted" id="tools">Outils</h1>
            <div class="row">
                <div class="creation-pdf col-md-3">
                    <div class="row d-flex justify-content-center">
                        <div class="col-12 d-flex justify-content-center">
                            <button class="btn btn-info" id="btnCreatePdf" style="width: 100%">PDF Création</button>
                        </div>
                    </div>
                    <div id="createPdf">
                        <h3 class="text-center text-white bg-dark mt-2">Création PDF</h3>
                        <div class="row d-flex justify-content-center">
                            <h:form id="proposition">
                                <div class="form-group">
                                    <h:inputText id="namePdf" title="Nom du pdf :" class="form-control" value="#{pdfBean.pdfName}" size="20" a:placeholder="Nom du pdf">
                                    </h:inputText >
                                    <h:inputTextarea id="contentPdf" class="form-control" value="#{pdfBean.pdfContent}" a:placeholder="Contenu du pdf">
                                    </h:inputTextarea >
                                    <div class="row d-flex justify-content-center">
                                        <h:commandButton value="Créer pdf" action="#{pdfBean.createPdf('/home/avizzeo/Documents/Code/LEARN_JAVA/PDFTools/newPdf/')}" class="btn btn-success mt-2"></h:commandButton>
                                    </div>
                                </div>
                            </h:form>
                        </div>
                        <div class="row d-flex justify-content-center">
                            <div class="col-12">
                                <button class="btn btn-warning" id="btnHideCreatePdf" style="width: 100%">Masquer</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="fusion-pdf col-md-3">
                    <div class="row d-flex justify-content-center">
                        <div class="col-12">
                            <button class="btn btn-success" id="btnMergePdf" style="width: 100%">PDF Fusion</button>
                        </div>
                    </div>
                    <div id="mergePdf">
                        <h3 class="text-center text-white bg-dark mt-2">Fusion pdf</h3>
                        <div class="row d-flex justify-content-center">
                            <h:form id="merge">
                                <div class="form-group">
                                    <h:inputText id="namePdf" title="Nom du fihier pdf :" class="form-control" value="#{pdfBean.pdfName}" size="20" a:placeholder="Nom du pdf">
                                    </h:inputText >
                                    <div class="row d-flex justify-content-center">
                                        <h:commandButton value="Fusionner" action="#{pdfBean.mergePdf()}" class="btn btn-success mt-2"></h:commandButton>
                                    </div>
                                </div>
                            </h:form>
                        </div>
                        <div class="row d-flex justify-content-center">
                            <div class="col-12 d-flex">
                                <button class="btn btn-warning" id="btnHideMergePdf" style="width: 100%">Masquer</button>
                            </div>
                        </div>
                    </div>
                    <c:if test="#{pdfBean.fusion}">
                        <h3>PDF</h3>
                        <p:media value="#{pdfBean.fusionnedPdfName}" width="100%" height="300px">
                            Your browser can't display pdf, <h:outputLink value="#{pdfBean.fusionnedPdfName}">click</h:outputLink> to download pdf instead.
                        </p:media>
                    </c:if>
                </div>

                <div class="conversion-image-pdf col-md-3">
                    <div class="row d-flex justify-content-center">
                        <div class="col-12">
                            <button class="btn btn-outline-warning" id="btnPdfToImg" style="width: 100%">PDF Conversion</button>
                        </div>
                    </div>
                    <div id="pdfToImg">
                        <h3 class="text-center text-white bg-dark mt-2">PDF Conversion</h3>
                        <div class="row d-flex justify-content-center">
                            <h:form id="imgPdf">
                                <div class="form-group">
                                    <h:inputText id="namePdf" title="Nom du fihier pdf :" class="form-control" value="#{pdfBean.pdfName}" size="20" a:placeholder="Nom du pdf à convertir">
                                    </h:inputText >
                                    <h:inputText id="imgName" title="Nom du nouveau fichier :" class="form-control" value="#{pdfBean.imgName}" size="20" a:placeholder="Nom du nouveau fichier">
                                    </h:inputText >
                                    <div class="row d-flex justify-content-center">
                                        <h:commandButton value="Convertir" action="#{pdfBean.createImageFromPdf()}" class="btn btn-success mt-2"></h:commandButton>
                                    </div>
                                </div>
                            </h:form>
                        </div>
                        <div class="row d-flex justify-content-center">
                            <div class="col-12 d-flex">
                                <button class="btn btn-warning" id="btnHidePdfToImg" style="width: 100%">Masquer</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="suppression-pdf col-md-3">
                    <div class="row d-flex justify-content-center">
                        <div class="col-12">
                            <button class="btn btn-danger" id="btnDeletePage" style="width: 100%">Page Suppression</button>
                        </div>
                    </div>
                    <div id="deletePage">
                        <h3 class="text-center text-white bg-dark mt-2">PDF Suppression</h3>
                        <div class="row d-flex justify-content-center">
                            <h:form id="delete">
                                <div class="form-group">
                                    <h:inputText id="namePdf" title="Nom du fihier pdf  :" class="form-control" value="#{pdfBean.pdfName}" size="20" a:placeholder="Nom du pdf à modifier">
                                    </h:inputText >
                                    <h:inputText id="newNamePdf" title="Nom du nouveau fihier pdf :" class="form-control" value="#{pdfBean.newPdfName}" size="20" a:placeholder="Nom du nouveau pdf">
                                    </h:inputText >
                                    <h:inputText id="pagePdf" title="Numero de page  :" class="form-control" value="#{pdfBean.pages}" size="20" a:placeholder="Pages à supprimer : 1,2,...">
                                    </h:inputText >
                                    <div class="row d-flex justify-content-center">
                                        <h:commandButton value="Supprimer la page" action="#{pdfBean.deletePage()}" class="btn btn-success mt-2"></h:commandButton>
                                    </div>
                                </div>
                            </h:form>
                        </div>
                        <div class="row d-flex justify-content-center">
                            <div class="col-12 d-flex">
                                <button class="btn btn-warning" id="btnHideDeletePage" style="width: 100%">Masquer</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="listSection-pdf col-md-3">
                    <div class="row d-flex justify-content-center">
                         <div class="col-12 mt-2 d-flex justify-content-center">
                             <button class="btn btn-secondary" id="showList" style="width: 100%">Liste des pdf</button>
                         </div>
                     </div>
                     <div id="pdfListSection">
                         <div class="row d-flex justify-content-center">
                             <h:form id="formList">
                                 <p:dataList value="#{pdfBean.pdfFiles}" var="pdf" type="ordered">
                                     <f:facet name="header">
                                         Liste des pdf enregistrés
                                     </f:facet>
                                     #{pdf}
                                 </p:dataList>
                             </h:form>
                         </div>
                         <div class="row d-flex justify-content-center">
                             <div class="col-12">
                                 <button class="btn btn-warning" id="btnHideList" style="width: 100%">Masquer</button>
                             </div>
                         </div>
                     </div>
                </div>
            </div>
            <hr/>
             <h1 class="text-center text-muted" id="toCome">A venir</h1>
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-3 mt-2">
                    <button class="btn btn-primary" style="width: 100%">Extraction de page PDF</button>
                </div>
                <div class="col-xs-12 col-sm-6 col-md-3 mt-2">
                    <button class="btn btn-warning" style="width: 100%">Trier les pages du fichier</button>
                </div>
                <div class="col-xs-12 col-sm-6 col-md-3 mt-2">
                    <button class="btn btn-outline-success" style="width: 100%">Signer PDF</button>
                </div>
            </div>
            <hr></hr>
        </div>

        <script>
            $(document).ready(function(){
                $("#createPdf").hide();
                $("#mergePdf").hide();
                $("#pdfToImg").hide();
                $("#pdfListSection").hide();
                $("#deletePage").hide();
                
                $("#btnCreatePdf").click(function(){
                    $("#createPdf").show();
                })
                
                $("#btnMergePdf").click(function(){
                    $("#mergePdf").show();
                })
                
                $("#btnPdfToImg").click(function(){
                    $("#pdfToImg").show();
                })
                
                $("#showList").click(function(){
                    $("#pdfListSection").show();
                })
                
                $("#btnDeletePage").click(function(){
                    $("#deletePage").show();
                })
                
                $("#btnHideCreatePdf").click(function(){
                    $("#createPdf").hide();
                })
                
                $("#btnHideMergePdf").click(function(){
                    $("#mergePdf").hide();
                })
                
                $("#btnHidePdfToImg").click(function(){
                    $("#pdfToImg").hide();
                })
                
                $("#btnHideList").click(function(){
                    $("#pdfListSection").hide();
                })
                
                $("#btnHideDeletePage").click(function(){
                    $("#deletePage").hide();
                })
                
                // Add smooth scrolling to all links
                $("a").on('click', function(event) {

                  // Make sure this.hash has a value before overriding default behavior
                  if (this.hash !== "") {
                    // Prevent default anchor click behavior
                    event.preventDefault();

                    // Store hash
                    var hash = this.hash;

                    // Using jQuery's animate() method to add smooth page scroll
                    // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
                    $('html, body').animate({
                      scrollTop: $(hash).offset().top
                    }, 800, function(){

                      // Add hash (#) to URL when done scrolling (default click behavior)
                      window.location.hash = hash;
                    });
                  } // End if
                });
            })
            
        </script>
    </h:body>
</html>
